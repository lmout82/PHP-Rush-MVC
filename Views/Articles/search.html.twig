{% extends "layout.html.twig" %}

{% block title %}Search{% endblock %}

{% block content %}

{% include 'header_user.html.twig' %}

<section id="search">
  <div class="container">
    <div class="row">
      <div class="col-lg-12 text-center">
        <h2 class="section-heading">Recherche</h2>
        <h3 class="section-subheading text-muted">Lorem ipsum dolor sit amet consectetur.</h3>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">
        <form id="search" name="search" method="post">
          <div class="row">
            <div class="col-md-6">
              <div>Recherche</div>
              <div class="form-group">
                <input id="keyword" class="form-control" type="text" placeholder="Please enter your search." required name="keyword">
                <p class="help-block text-danger"></p>
              </div>
              <div class="form-group">
                <input id="hashtag" class="form-control" type="text" placeholder="Please enter your tag. (only one, without #)" name="hashtag">
                <p class="help-block text-danger"></p>
              </div>
            </div>
            <div class="col-md-6">
              <div>Filtres</div>
              <div class="form-group">
                <select id="searchin" class="form-control" placeholder="Please select a target of search." name="searchin">
                  <option value="" disabled selected>Please select a target of search. (Content by default)</option>
                  <option value="content">Content</option>
                  <option value="title">Title</option>
                </select>
              </div>
              <div class="form-group">
                <select id="category" class="form-control" placeholder="Please select a category." name="category">
                  <option value="0" disabled selected>Please select a category. (All by default)</option>
                  {% for category in categories %}
                  <option value="{{category.id}}">{{category.name}}</option>
                  {% endfor %}
                </select>
              </div>
              <div class="form-group">
                <select id="sortby" class="form-control" placeholder="Sort your search." name="sortby">
                  <option value="" disabled selected>Please select a sort. (Title name by default)</option>
                  <option value="alpha">title</option>
                  <option value="date">date</option>
                </select>
              </div>
            </div>
          </div>
          <div class="clearfix"></div>
          <div class="col-lg-12 text-center">
            <div id="success"></div>
              <button class="btn btn-xl" type="submit">Search</button>
            </div>
          </div>
        </form>
      </div>
    </div>
    <div class="row">
      <h2 class="section-heading">&nbsp;</h2>
    </div>
    <div class="row">
      <div class="col-lg-12 text-center">
        <h2 class="section-heading">Results</h2>
        <h3 class="section-subheading text-muted">Lorem ipsum dolor sit amet consectetur.</h3>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-10">
        <ul class="timeline">
        {% for article in articles %}
          <li class="timeline-inverted">
            <div class="timeline-image">
              <a href="/PHP_Rush_MVC/index.php/articles/read/{{article.id}}">
                <img class="img-circle img-responsive" alt="" src="/PHP_Rush_MVC/Webroot/img/articles/thumb/{{article.image=="" ? "default.png" : article.image}}">
              </a>
            </div>
            <div class="timeline-panel">
              <div class="timeline-heading">
                <a href="/PHP_Rush_MVC/index.php/articles/read/{{article.id}}">
                  <h4>{{article.creation_date|date("d/m/Y")}}</h4>
                  <h4 class="subheading">{{article.title}}</h4>
                </a>
              </div>
              <div class="timeline-body">
                <p class="text-muted preview-text">{{article.content}}</p>
              </div>
            </div>
          </li>
        {% endfor %}
        </ul>
      </div>
    </div>
  </div>
</section>
{% endblock %}